{
  "swagger": "2.0",
  "info": {
    "title": "client.proto",
    "version": "version not set"
  },
  "schemes": [
    "http",
    "https"
  ],
  "consumes": [
    "application/json"
  ],
  "produces": [
    "application/json"
  ],
  "paths": {
    "/v1/clm/accounts": {
      "get": {
        "operationId": "ListAccounts",
        "responses": {
          "200": {
            "description": "A successful response.",
            "schema": {
              "$ref": "#/definitions/clmrpcListAccountsResponse"
            }
          }
        },
        "tags": [
          "ChannelAuctioneerClient"
        ]
      },
      "post": {
        "operationId": "InitAccount",
        "responses": {
          "200": {
            "description": "A successful response.",
            "schema": {
              "$ref": "#/definitions/clmrpcAccount"
            }
          }
        },
        "parameters": [
          {
            "name": "body",
            "in": "body",
            "required": true,
            "schema": {
              "$ref": "#/definitions/clmrpcInitAccountRequest"
            }
          }
        ],
        "tags": [
          "ChannelAuctioneerClient"
        ]
      }
    },
    "/v1/clm/accounts/{account_sub_key_hex}": {
      "post": {
        "operationId": "ModifyAccount",
        "responses": {
          "200": {
            "description": "A successful response.",
            "schema": {
              "$ref": "#/definitions/clmrpcModifyAccountResponse"
            }
          }
        },
        "parameters": [
          {
            "name": "account_sub_key_hex",
            "in": "path",
            "required": true,
            "type": "string"
          },
          {
            "name": "body",
            "in": "body",
            "required": true,
            "schema": {
              "$ref": "#/definitions/clmrpcModifyAccountRequest"
            }
          }
        ],
        "tags": [
          "ChannelAuctioneerClient"
        ]
      }
    },
    "/v1/clm/accounts/{trader_key}": {
      "delete": {
        "operationId": "CloseAccount",
        "responses": {
          "200": {
            "description": "A successful response.",
            "schema": {
              "$ref": "#/definitions/clmrpcCloseAccountResponse"
            }
          }
        },
        "parameters": [
          {
            "name": "trader_key",
            "description": "The trader key associated with the account that will be closed.",
            "in": "path",
            "required": true,
            "type": "string",
            "format": "byte"
          }
        ],
        "tags": [
          "ChannelAuctioneerClient"
        ]
      }
    },
    "/v1/clm/orders": {
      "get": {
        "operationId": "ListOrders",
        "responses": {
          "200": {
            "description": "A successful response.",
            "schema": {
              "$ref": "#/definitions/clmrpcListOrdersResponse"
            }
          }
        },
        "tags": [
          "ChannelAuctioneerClient"
        ]
      },
      "post": {
        "operationId": "SubmitOrder",
        "responses": {
          "200": {
            "description": "A successful response.",
            "schema": {
              "$ref": "#/definitions/clmrpcSubmitOrderResponse"
            }
          }
        },
        "parameters": [
          {
            "name": "body",
            "in": "body",
            "required": true,
            "schema": {
              "$ref": "#/definitions/clmrpcSubmitOrderRequest"
            }
          }
        ],
        "tags": [
          "ChannelAuctioneerClient"
        ]
      }
    },
    "/v1/clm/orders/{order_nonce}": {
      "delete": {
        "operationId": "CancelOrder",
        "responses": {
          "200": {
            "description": "A successful response.",
            "schema": {
              "$ref": "#/definitions/clmrpcCancelOrderResponse"
            }
          }
        },
        "parameters": [
          {
            "name": "order_nonce",
            "in": "path",
            "required": true,
            "type": "string",
            "format": "byte"
          }
        ],
        "tags": [
          "ChannelAuctioneerClient"
        ]
      }
    }
  },
  "definitions": {
    "InvalidOrderFailReason": {
      "type": "string",
      "enum": [
        "INVALID_AMT"
      ],
      "default": "INVALID_AMT"
    },
    "clmrpcAccount": {
      "type": "object",
      "properties": {
        "trader_key": {
          "type": "string",
          "format": "byte",
          "description": "The identifying component of an account. This is the key used for the trader\nin the 2-of-2 multi-sig construction of an account with an auctioneer."
        },
        "outpoint": {
          "$ref": "#/definitions/clmrpcOutPoint",
          "description": "The current outpoint associated with the account. This will change every\ntime the account has been updated."
        },
        "value": {
          "type": "integer",
          "format": "int64",
          "description": "The current value in satoshis of the account."
        },
        "expiration_height": {
          "type": "integer",
          "format": "int64",
          "description": "The height at which the account will expire."
        },
        "state": {
          "$ref": "#/definitions/clmrpcAccountState",
          "description": "The current state of the account."
        },
        "close_txid": {
          "type": "string",
          "format": "byte",
          "description": "The hash of the account's closing transaction, if any."
        }
      }
    },
    "clmrpcAccountState": {
      "type": "string",
      "enum": [
        "PENDING_OPEN",
        "OPEN",
        "EXPIRED",
        "PENDING_CLOSED",
        "CLOSED"
      ],
      "default": "PENDING_OPEN",
      "description": " - PENDING_OPEN: The state of an account when it is pending its confirmation on-chain.\n - OPEN: The state of an account once it has confirmed on-chain.\n - EXPIRED: The state of an account once its expiration has been reached and its closing\ntransaction has confirmed.\n - PENDING_CLOSED: The state of an account when we're waiting for the closing transaction of\nan account to confirm that required cooperation with the auctioneer.\n - CLOSED: The state of an account once its closing transaction has confirmed."
    },
    "clmrpcAsk": {
      "type": "object",
      "properties": {
        "details": {
          "$ref": "#/definitions/clmrpcOrder",
          "description": "*\nThe common fields shared between both ask and bid order types."
        },
        "max_duration_blocks": {
          "type": "string",
          "format": "int64",
          "description": "*\nThe maximum number of blocks the liquidity provider is willing to provide\nthe channel funds for."
        },
        "version": {
          "type": "integer",
          "format": "int64",
          "description": "*\nThe version of the order format that is used. Will be increased once new\nfeatures are added."
        }
      }
    },
    "clmrpcBid": {
      "type": "object",
      "properties": {
        "details": {
          "$ref": "#/definitions/clmrpcOrder",
          "description": "*\nThe common fields shared between both ask and bid order types."
        },
        "min_duration_blocks": {
          "type": "string",
          "format": "int64",
          "description": "*\nRequired minimum number of blocks that a channel opened as a result of this\nbid should be kept open."
        },
        "version": {
          "type": "integer",
          "format": "int64",
          "description": "*\nThe version of the order format that is used. Will be increased once new\nfeatures are added."
        }
      }
    },
    "clmrpcCancelOrderResponse": {
      "type": "object"
    },
    "clmrpcCloseAccountResponse": {
      "type": "object",
      "properties": {
        "close_txid": {
          "type": "string",
          "format": "byte",
          "description": "The hash of the closing transaction."
        }
      }
    },
    "clmrpcInitAccountRequest": {
      "type": "object",
      "properties": {
        "account_value": {
          "type": "integer",
          "format": "int64"
        },
        "account_expiry": {
          "type": "integer",
          "format": "int64"
        }
      }
    },
    "clmrpcInvalidOrder": {
      "type": "object",
      "properties": {
        "order_nonce": {
          "type": "string",
          "format": "byte"
        },
        "fail_reason": {
          "$ref": "#/definitions/InvalidOrderFailReason"
        },
        "fail_string": {
          "type": "string"
        }
      }
    },
    "clmrpcListAccountsResponse": {
      "type": "object",
      "properties": {
        "accounts": {
          "type": "array",
          "items": {
            "$ref": "#/definitions/clmrpcAccount"
          }
        }
      }
    },
    "clmrpcListOrdersResponse": {
      "type": "object",
      "properties": {
        "asks": {
          "type": "array",
          "items": {
            "$ref": "#/definitions/clmrpcAsk"
          }
        },
        "bids": {
          "type": "array",
          "items": {
            "$ref": "#/definitions/clmrpcBid"
          }
        }
      }
    },
    "clmrpcModifyAccountRequest": {
      "type": "object",
      "properties": {
        "account_sub_key_hex": {
          "type": "string"
        },
        "new_account_balance": {
          "type": "string",
          "format": "int64"
        }
      }
    },
    "clmrpcModifyAccountResponse": {
      "type": "object"
    },
    "clmrpcOrder": {
      "type": "object",
      "properties": {
        "user_sub_key": {
          "type": "string",
          "format": "byte",
          "description": "*\nThe user's sub key of the account that is used for the order."
        },
        "rate_fixed": {
          "type": "string",
          "format": "int64",
          "description": "*\nFixed order rate in parts per million."
        },
        "amt": {
          "type": "string",
          "format": "int64",
          "description": "*\nOrder amount in satoshis."
        },
        "funding_fee_rate": {
          "type": "string",
          "format": "int64",
          "description": "*\nPreferred fee rate to be used for the channel funding transaction, expressed\nin satoshis per 1000 weight units (sat/kW)."
        },
        "order_nonce": {
          "type": "string",
          "format": "byte",
          "description": "*\nOrder nonce, acts as unique order identifier."
        },
        "state": {
          "type": "string",
          "description": "*\nThe state the order currently is in."
        },
        "units": {
          "type": "integer",
          "format": "int64",
          "description": "*\nThe number of order units the amount corresponds to."
        },
        "units_unfulfilled": {
          "type": "integer",
          "format": "int64",
          "description": "*\nThe number of currently unfilled units of this order. This will be equal to\nthe total amount of units until the order has reached the state PARTIAL_FILL\nor EXECUTED."
        }
      }
    },
    "clmrpcOutPoint": {
      "type": "object",
      "properties": {
        "txid": {
          "type": "string",
          "format": "byte",
          "description": "*\nRaw bytes representing the transaction id."
        },
        "output_index": {
          "type": "integer",
          "format": "int64",
          "description": "*\nThe index of the output on the transaction."
        }
      }
    },
    "clmrpcOutput": {
      "type": "object",
      "properties": {
        "value": {
          "type": "integer",
          "format": "int64",
          "description": "The value, in satoshis, of the output."
        },
        "script": {
          "type": "string",
          "format": "byte",
          "description": "The script of the output to send the value to."
        }
      }
    },
    "clmrpcSubmitOrderRequest": {
      "type": "object",
      "properties": {
        "ask": {
          "$ref": "#/definitions/clmrpcAsk"
        },
        "bid": {
          "$ref": "#/definitions/clmrpcBid"
        }
      }
    },
    "clmrpcSubmitOrderResponse": {
      "type": "object",
      "properties": {
        "invalid_order": {
          "$ref": "#/definitions/clmrpcInvalidOrder",
          "description": "*\nOrder failed with the given reason."
        },
        "accepted": {
          "type": "boolean",
          "format": "boolean",
          "description": "*\nOrder was accepted."
        }
      }
    }
  }
}
